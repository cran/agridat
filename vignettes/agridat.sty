% agridat.sty
% Time-stamp: <01 Jul 2014 14:24:26 c:/x/rpack/agridat/vignettes/agridat.sty>

%\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{agridat}

% Force floats (figures) to be where I asked
% The \begin{figure}[H] placement option tells LaTeX to place the floating
% object where it appears, even if the rest of the page is blank.
\RequirePackage{float}

\RequirePackage{color}
\definecolor{darkblue}{rgb}{0,0,0.5}
\definecolor{blue}{rgb}{0,0,0.8}
\definecolor{lightblue}{rgb}{0.2,0.2,0.9}
\definecolor{darkred}{rgb}{0.6,0.0,0.0}
\definecolor{red}{rgb}{0.7,0,0}
\definecolor{darkgreen}{rgb}{0.0,0.4,0.0}
\definecolor{lightgray}{rgb}{0.7,0.7,0.7}
\definecolor{darkorange}{rgb}{0.75, 0.45, 0}
\definecolor{purple}{rgb}{0.65, 0, 0.75}
\definecolor{goldenrod}{rgb}{0.80, 0.61, 0.11}
\definecolor{lightyellow}{rgb}{0.98,0.94,0.83}

% Things for Sweave
\RequirePackage[T1]{fontenc}
\RequirePackage{ae}       % ComputerModern Fonts
\RequirePackage{fancyvrb} % For R code
\RequirePackage{graphicx} % Needed to insert jpg files into pdf
\RequirePackage{upquote}  % Change curly quotes to straight

% Hyperref
\RequirePackage[colorlinks,pagebackref,plainpages=false,
  citecolor=darkblue,linkcolor=darkblue,urlcolor=darkblue,plainpages]{hyperref}

% Don't break long URLs
\RequirePackage{url}

% Don't right-justify
\raggedright

% Vertical spacing between paragraphs
\parskip=1ex

% Set margins to be narrow
\RequirePackage[left=.5in,top=.5in,right=.5in,bottom=1in]{geometry}

% \code mini environment ttfamily->texttt
\newcommand\code{\bgroup\@codex}
\def\@codex#1{{\color{darkred} \normalfont\ttfamily\hyphenchar\font=-1 #1}\egroup}

% Header & footer setup
\RequirePackage{fancyhdr}
\pagestyle{fancy}

% A macro to print the date as: 09.14.1968
%\def\twodigits#1{\ifnum#1<10 0\fi\the#1}
%\newcommand{\shorttoday}{\twodigits\month.\twodigits\day.\number\year}

% Define myTitle to be the title of the document
\let\oldTitle\title
\renewcommand{\title}[1]{\newcommand{\myTitle}{#1}\oldTitle{\sf #1}}
\renewcommand{\headrule}{}  % no line between header and body
\renewcommand{\footrule}{}  % no line between body and footer
\fancyhf{}
%\fancyhead[L]{}
%\fancyhead[R]{}
%\fancyfoot[L]{\small \color{lightgray} \myTitle} % \FileName
\fancyfoot[C]{}
\fancyfoot[R]{\small \thepage}

% Change the spacing in the bibliography to be smaller
\RequirePackage[round]{natbib}
% plainnat to include url's in bibliography.  Authors first name is first
% apalike does NOT handle urls
\bibliographystyle{plainnat}
\setlength{\bibsep}{0pt} % Reduce space between bibliography items

% If you're using natbib & hyperref, the following code will turn DOIs into
% clickable hyperlinks like http://dx.doi.org/doi.number
% \providecommand{\doi}[1]{\url{http://dx.doi.org/#1}}
\RequirePackage{doi}  % Make doi clickable in the bibliography

% Use cmbright fonts
% Note: use \mathbold{\epsilon} instead of \mathbf{\epsilon}
% \usepackage[standard-baselineskips]{cmbright}

\usepackage{helvet}

% ----------------------------------------------------------------------------

% Use a light yellow box for: Title \ Author, Date
\makeatletter
\renewcommand{\maketitle}{
    \colorbox{lightyellow}{
      \begin{minipage}{\columnwidth}
        \vspace{15pt}
        \centering \LARGE \@title \linebreak
        \normalsize \@author, \today % \shorttoday
        \vspace{15pt} \par
      \end{minipage}
    }
  \null
}
\makeatother

% ----------------------------------------------------------------------------

% Reduce spacing in lists
\usepackage{enumitem}
\setitemize{itemsep=0pt}

% ----------------------------------------------------------------------------

% R stuff

% This environment defines the look of R ouput
\DefineVerbatimEnvironment{Soutput}{Verbatim}{
  fontsize=\small,
  formatcom=\color{darkblue}
}

\newcommand{\R}{{\sf R}}
\newcommand{\Rpackage}[1]{\textcolor{darkorange}{\texttt{#1}}}
\newcommand{\Rpkg}[1]{\textcolor{darkorange}{\texttt{#1}}}
\newcommand{\rpkg}[1]{\textcolor{darkorange}{\texttt{#1}}}
\newcommand{\asreml}{{\code{asreml}}}

% For monospace fonts.  Load this AFTER cmbright and it will redefine tt
% family to use inconsolata.
\usepackage{inconsolata}

% The 'knitrout' environment is for all input AND output R code
% By default, R output is wrapped in an 'verbatim' environment
\renewenvironment{knitrout}{
  \setlength{\itemsep}{0pt}
  \setlength{\topsep}{0pt}
  \setlength{\partopsep}{0pt}
  \setlength{\parsep}{0pt}
  \setlength{\parskip}{0pt}
}


